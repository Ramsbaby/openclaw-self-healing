# 한글 숙제 자동 교정 시스템

**상태:** v1.0 프로토타입 완료 (2026-02-08)
**용도:** Preply 한국어 튜터 숙제 교정 지원

---

## 🎯 기능

### 현재 버전 (v1.0)
- ✅ 이미지 업로드 인식
- ✅ 규칙 기반 한글 오류 감지
- ✅ 시각적 마킹 (빨간 밑줄 + 초록 교정)
- ✅ 고해상도 출력 (JPG 95%)
- ✅ Discord 통합

### 지원 오류 유형
1. **철자 오류**: "얼이" → "열이", "꽃얼" → "콧물"
2. **동사 활용**: "하어요" → "해요"
3. **띄어쓰기**: "이 가아 파요" → "이가 아파요"

---

## 📖 사용법

### Discord에서 (보람님용)

1. **숙제 이미지 업로드**
   - #jarvis-preply-tutor 채널에 학생 숙제 사진 올리기

2. **교정 요청**
   - "교정해줘" 또는 "틀린 거 찾아줘"

3. **결과 받기**
   - 자비스가 마킹된 이미지 전송
   - 오류 목록 텍스트로 제공

### 명령줄 (고급)

```bash
python3 ~/openclaw/scripts/homework-ocr-correct.py <이미지경로>
```

**출력:**
- `<원본파일>_corrected.jpg` — 교정 이미지
- JSON — 오류 상세 정보

---

## 🔧 기술 스택

| 구성요소 | 기술 |
|---------|------|
| OCR | Claude Vision (현재), Google Vision (예정) |
| 맞춤법 검사 | 규칙 기반 (현재), AI/NLP (예정) |
| 이미지 처리 | Pillow (PIL) |
| 한글 폰트 | AppleGothic.ttf |
| 통합 | Discord message API |

---

## 🚀 향후 개선 계획

### Phase 2 (예정)
- [ ] **Google Vision API 통합**
  - 손글씨 OCR 정확도 대폭 향상
  - Bounding box 정보로 정확한 위치 마킹
  - 월 1000건 무료

### Phase 3 (예정)
- [ ] **AI 문법 검사**
  - Sapling API 또는 GPT-4 기반
  - 문맥 인식 교정 (단순 규칙 넘어서)
  - 자연스러운 표현 제안

### Phase 4 (예정)
- [ ] **자동 학습**
  - 보람님 교정 피드백 수집
  - 반복 오류 패턴 학습
  - 학생별 약점 분석

### Phase 5 (아이디어)
- [ ] **웹 대시보드**
  - 학생별 진도 추적
  - 오류 통계 시각화
  - 수업 자료 라이브러리

---

## 📁 파일 구조

```
~/openclaw/
├── scripts/
│   ├── korean-homework-checker.py     # 마킹 엔진
│   └── homework-ocr-correct.py        # 통합 시스템
├── docs/
│   └── korean-homework-correction.md  # 이 문서
└── skills/
    └── (향후 skill 패키지화 예정)
```

---

## 🐛 알려진 제약사항

### v1.0 제약
1. **손글씨 인식 한계**
   - Claude Vision 단독으로는 정확도 제한
   - 흐릿한 글씨, 복잡한 배경 어려움

2. **위치 추정 부정확**
   - OCR bounding box 없이 임시 계산
   - 마킹 위치가 실제 오류와 약간 다를 수 있음

3. **규칙 기반 한계**
   - 사전 정의된 오류만 감지
   - 문맥 인식 불가

### 해결 예정
- Google Vision → 손글씨 정확도 90%+
- AI 문법 검사 → 문맥 인식
- 학습 시스템 → 커버리지 확대

---

## 💡 사용 팁

### 보람님께
- 교정 전에 이미지 밝기/선명도 확인
- 학생에게 "또박또박" 쓰도록 권장
- 반복 오류는 자비스에게 패턴 알려주기
  - 예: "학생이 자주 '~ㅆ어요'를 '~써요'로 쓰는데, 이것도 감지해줘"

### 정우님께
- Google Vision API 키 발급 시점:
  - 월 1000건 넘으면 (현재는 무료 범위 충분)
- 성능 개선 우선순위:
  1. OCR 정확도 (Google Vision)
  2. 문법 검사 고도화 (AI)
  3. UI/UX 개선 (웹 대시보드)

---

## 📊 버전 히스토리

### v1.0 (2026-02-08)
- 초기 프로토타입 완료
- 규칙 기반 오류 감지
- Pillow 마킹 시스템
- Discord 통합

---

**문의:** #jarvis-preply-tutor 또는 정우님께 직접
